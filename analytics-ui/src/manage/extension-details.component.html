<!--
 ~ Copyright (c) 2025 Cumulocity GmbH
 ~
 ~ SPDX-License-Identifier: Apache-2.0
 ~
 ~ Licensed under the Apache License, Version 2.0 (the "License");
 ~ you may not use this file except in compliance with the License.
 ~ You may obtain a copy of the License at
 ~
 ~      http://www.apache.org/licenses/LICENSE-2.0
 ~
 ~ Unless required by applicable law or agreed to in writing, software
 ~ distributed under the License is distributed on an "AS IS" BASIS,
 ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 ~ See the License for the specific language governing permissions and
 ~ limitations under the License.
 ~
 ~ @authors Christof Strack
  -->

<c8y-title>Details {{ extension?.name }}</c8y-title>

<c8y-breadcrumb>
  <c8y-breadcrumb-item [icon]="'c8y-atom'" [label]="'Ecosystem' | translate"></c8y-breadcrumb-item>
  <c8y-breadcrumb-item [icon]="'c8y-streaming-analytics'" [label]="'Analytics' | translate"></c8y-breadcrumb-item>
  <c8y-breadcrumb-item [icon]="'c8y-modules'" [label]="'Manage extensions' | translate"
    [path]="'c8y-pkg-analytics-extension/manage'">
  </c8y-breadcrumb-item>
  <c8y-breadcrumb-item [label]="extension?.name"></c8y-breadcrumb-item>
</c8y-breadcrumb>

<div class="row">
  <div class="card col-lg-12">
    <div class="card-block">
      <table class="table table-striped">
        <thead>
          <tr>
            <th style="width: 15%">Block Name</th>
            <th style="width: 10%">Block Category</th>
            <th>Block Description</th>
          </tr>
        </thead>
        <tbody>
          <!-- Empty state row properly inside tbody -->
          <tr *ngIf="!extension || extension?.analytics?.length == 0">
            <td></td>
            <td colspan="2">
              <c8y-ui-empty-state [icon]="'c8y-icon c8y-icon-apama-epl'"
                [title]="'This extension contains no .mon files .' | translate" [horizontal]="false">
              </c8y-ui-empty-state>
            </td>
          </tr>

          <tr *ngFor="let block of extension?.analytics">
            <td [title]="block.id">{{ block.id }}</td>
            <td [title]="block.category">{{ block.category }}</td>
            <td [title]="block.description">{{ block.description }}</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="card-block">
      <table class="table table-striped">
        <thead>
          <tr>
            <th style="width: 5%"># </th>
            <th style="width: 95%">File Name</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let file of extensionContent ; let i = index">
            <td>{{i }}</td>
            <td>{{file }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>